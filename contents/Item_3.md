# 아이템 3. private 생성자나 열거 타입으로 싱글턴임을 보증하라

## 열거 타입(enum)이란?  

- ### 몇가지 상수의 집합을 정의하는 한정된 값만을 갖는 데이터 타입으로,   
  ### 집합이 갖는 값이 한정되어 있고, 다른 값을 허용하지 않는 경우에 사용한다. 
  
예)  
> 성별 : 남성, 여성  
> 요일 : 월, 화, 수, 목, 금, 토, 일  
> 계절 : 봄, 여름, 가을, 겨울 

<br>

## 열거 타입(enum)의 장점  

### 1. 열거체를 비교할 때 **실제 값** 뿐만 아니라 **타입**까지 <span style="color:#228B22">체크</span>해 준다.
### 2. 열거체의 상숫값이 **재정의**되더라도, 다시 컴파일할 필요가 <span style="color:#228B22">없어진다</span>.

<br>

## 열거 타입(enum) 선언 방법  

### Intellij 기준으로 New -> Java Class -> Enum 을 선택하여 클래스를 생성 할 수 있다.
### 일단 예를 들어서 계절 열거체를 만들어 보자.
[먼저 열거체 이름(Season)을 지정해 주고](./imgs/Item_3_HTU_enum_1.PNG)  

### 열거 상수를 선언해 주자.
~~~JAVA
public enum Season {
    // 열거 상수 선언
    SPRING,
    SUMMER,
    AUTUMN,
    WINTER
}
~~~

### 열거 상수는 모두 대문자로 작성한다.
### 만약 열거 상수가 여러 단어로 구성되어 있다면, 단어 사이를 밑줄(_)로 연결하는 것이 관례이다.  

예)  
~~~JAVA
public enum LoginResult{
    // 열거 상수
    LOGIN_SUCCESS,
    LOGIN_FAILED
} 
~~~

<br>

## 선언된 열거 타입(enum) 사용 방법
### 이렇게 선언된 열거체를 사용하는 방법은 다음과 같다
~~~JAVA
public class SeasonEnum {
    public static void main(String[] args) {

        // 열거 타입으로 변수(season2022) 선언 후, 열거 상수 값 할당해주기.
        // 열거 상수는 단독으로 사용 할 수 없어, 앞에 열거타입이 붙어야 한다.
        Season season2022 = Season.SPRING;
        // 이렇게 출력해보면 SPRING 이 출력된다.
        System.out.println(season2022);

        // 그리고 열거 타입 변수도 참조 타입이기 때문에, null 값을 저장 할 수 있다.
        season2022 = null;
        // 이렇게 출력하보면 null 이 출력된다.
        System.out.println(season2022);
    }
}
~~~

### <span style="color:#FF8200">new</span> 연산자로는 열거타입을 생성할 수 <span style="color:#FF0000">없고</span>, 열거변수를 선언하여 열거상수 값을 **할당**시켜줘야 한다.
### 열거타입 변수에 저장되는 값은 참조변수로, Stack 영역에 주소 값이 생성된다.
### 이 때 <span style="color:#C12DFF">열거타입 변수</span>의 주소값과 <span style="color:#0A6EFF">열거상수</span>의 주소값은 같은 영역을 참조하기 때문에 <span style="color:#228B22">동일한 값</span>을 가진다.

---
<br>

## 싱글톤(Singleton)이란?
- ### 어플리케이션이 실행될 때, 어떤 클래스가 한번만 메모리에 할당하고, 그 메모리에 인스턴스를 만들어 사용하는 디자인 패턴이다.
- ### 다시말해, 객체의 인스턴스가 오직 1개만 생성되는 패턴을 의미한다.

<br>

## 싱글톤(Singleton)의 장점
### 1. 한번의 new 연산자를 통해 고정된 메모리 영역을 사용하기 때문에 추후 해당 객체에 접근 할 때, 메모리 낭비를 방지할 수 있다.
### 2. 이미 생성된 인스턴스를 활용해서 속도 측면에도 이점이 있다.
### 3. 전역으로 사용되는 인스턴스이기 때문에 다른 클래스 간에 데이터 공유가 쉽다.

<br>

## 싱글톤(Singleton)의 단점
### 1. **private** 생성자를 가지고 있기 때문에 상속 할 수 없다.
### 2. **서버환경**에서는 싱글턴이 하나만 만들어지는 것을 보장하지 못한다.
### 3. 싱글톤은 객체지향 프로그래밍에서 권장되지 않는 **전역 상태**를 만들 수 있기 때문에 바람직하지 못하다.

<br>

## 싱글톤(Singleton)의 생성방법
### 싱글톤의 가장 일반적인 생성 방식은 두 가지가 있다.
### 두 방식 모두 생성자는 `private` 로 감춰두고, 인스턴스에 접근할 수 있는 유일한 수단으로 `public static` 맴버를 하나 마련해 둔다.